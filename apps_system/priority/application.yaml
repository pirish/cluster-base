apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: priority-classes
  namespace: argocd
  annotations:
    argocd.argoproj.io/sync-wave: "-30"
spec:
  project: system
  sources:
  - chart: priority-classes
    repoURL: https://charts.christianhuth.de
    path: .
    targetRevision: 1.0.8
    helm:
      releaseName: priority-classes
  #     valueFiles:
  #       - $values/apps_system/priority/values.yaml
  # - repoURL: 'git@github.com:pirish/cluster-base.git'
  #   targetRevision: HEAD
  #   ref: values
  # - repoURL: 'git@github.com:pirish/cluster-base.git'
  #   targetRevision: HEAD
  #   path: additional_manifests/priority
  destination:
    server: https://kubernetes.default.svc
    #namespace: system
  syncPolicy:
    automated:
      enabled: true
      prune: true
      selfHeal: true
    # syncOptions:
    #   - CreateNamespace=true